{"version":3,"sources":["logo.svg","store/types.js","store/actions/user.js","models/role.js","components/nav-bar.jsx","common/Constants.js","store/reducers/user.js","store/index.js","common/history.js","services/base.service.js","services/course.service.js","services/purchase.service.js","models/purchase.js","pages/home/HomePage.jsx","models/user.js","services/authentication.service.js","pages/login/LoginPage.jsx","pages/register/RegisterPage.jsx","services/user.service.js","pages/profile/ProfilePage.jsx","models/course.js","components/CourseSave.jsx","components/CourseDelete.jsx","pages/admin/AdminPage.jsx","pages/not-found/NotFoundPage.jsx","pages/unauthorized/UnauthorizedPage.jsx","guards/AuthGuard.jsx","App.js","reportWebVitals.js","index.js"],"names":["SET_CURRENT_USER","CLEAR_CURRENT_USER","clearCurrentUser","type","Role","NavBar","currentUser","useSelector","state","user","dispatch","useDispatch","navigate","useNavigate","className","href","src","logo","alt","role","to","fullname","onClick","toast","info","BASE_API_URL","userReducer","action","localStorage","setItem","JSON","stringify","payload","removeItem","parse","getItem","allReducers","combineReducers","store","createStore","history","createBrowserHistory","authHeader","getState","token","API_URL","course","axios","post","headers","delete","id","get","purchase","Purchase","userId","courseId","title","price","purchaseTime","this","HomePage","useState","courseList","setCourseList","errorMessage","setErrorMessage","infoMessage","setInfoMessage","useEffect","CourseService","getAllCourses","then","response","data","map","item","ind","subtitle","icon","faUserGraduate","PurchaseService","savePurchase","catch","err","console","log","User","username","password","BASE_URL","LoginPage","setUser","loading","setLoading","submitted","setSubmitted","handleChange","e","target","name","value","prevState","handleLogin","preventDefault","AuthenticationService","login","success","setCurrentUser","error","faSignInAlt","Alert","faTimesCircle","onSubmit","noValidate","htmlFor","placeholder","onChange","required","disabled","style","color","RegisterPage","faUserCircle","faExclamationTriangle","register","_","status","handleRegister","put","ProfilePage","purchaseList","setPurchaseList","getAllPurchaseItems","display","padding","newRole","UserService","changeRole","scope","Date","toLocaleDateString","Course","createTime","CourseSave","forwardRef","props","ref","useImperativeHandle","showCourseModal","setTimeout","setShow","setCourse","show","Modal","saveCourse","onSaved","min","step","CourseDelete","showDeleteModal","onConfirmed","AdminPage","selectedCourse","setSelectedCourse","saveComponent","useRef","deleteComponent","current","createCourseRequest","Object","assign","editCourseRequest","deleteCourseRequest","p","findIndex","newList","concat","window","location","reload","saveCourseWatcher","deleteCourse","filter","x","NotFoundPage","UnauthorizedPage","AuthGuard","children","roles","indexOf","pathname","App","position","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","interceptors","use","isLoggedIn","includes","push","Promise","reject","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6314831b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export const SET_CURRENT_USER = 'SET_CURRENT_USER';\nexport const CLEAR_CURRENT_USER = 'CLEAR_CURRENT_USER';\n","import { CLEAR_CURRENT_USER, SET_CURRENT_USER } from '../types';\n\n\nexport const setCurrentUser = (user) => {\n    return {\n        type: SET_CURRENT_USER,\n        payload: user,\n    };\n};\n\nexport const clearCurrentUser = () => {\n    return {\n        type: CLEAR_CURRENT_USER,\n    };\n};\n","export const Role = {\n    USER: 'USER',\n    ADMIN: 'ADMIN'\n}\n","import logo from '../logo.svg';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { clearCurrentUser } from '../store/actions/user';\nimport { Role } from '../models/role';\nimport { toast } from 'react-toastify'\n\nconst NavBar = () => {\n\n    const currentUser = useSelector(state => state.user);\n\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const logout = () => {\n        toast.info(<i>Logged out successfully!</i>)\n        dispatch(clearCurrentUser());\n        navigate('/login');\n    };\n\n    return (\n        <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n            <a href=\"https://reactjs.org\" className=\"navbar-brand ms-1\">\n                <img src={logo} className=\"App-logo\" alt=\"logo\" />\n                React\n            </a>\n\n            <div className=\"navbar-nav me-auto\">\n                {currentUser?.role === Role.ADMIN &&\n                    <li className=\"nav-item\">\n                        <NavLink to=\"/admin\" className=\"nav-link\">\n                            Admin\n                        </NavLink>\n                    </li>\n                }\n                <li className=\"nav-item\">\n                    <NavLink to=\"/home\" className=\"nav-link\">\n                        Home\n                    </NavLink>\n                </li>\n            </div>\n\n            {!currentUser &&\n                <div className=\"navbar-nav ms-auto\">\n                    <li className=\"nav-item\">\n                        <NavLink to=\"/register\" className=\"nav-link\">\n                            Sign Up\n                        </NavLink>\n                    </li>\n                    <li className=\"nav-item\">\n                        <NavLink to=\"/login\" className=\"nav-link\">\n                            Sign In\n                        </NavLink>\n                    </li>\n                </div>\n            }\n\n            {currentUser &&\n                <div className=\"navbar-nav ms-auto\">\n                    <li className=\"nav-item\">\n                        <NavLink to=\"/profile\" className=\"nav-link\">\n                            {currentUser.fullname}\n                        </NavLink>\n                    </li>\n                    <li className=\"nav-item\">\n                        <a href=\"/login\" className=\"nav-link\" onClick={() => logout()}>\n                            Sign Out\n                        </a>\n                    </li>\n                </div>\n            }\n\n        </nav>\n    );\n};\n\nexport { NavBar };\n","export const BASE_API_URL = \"http://localhost:5555\";\n","import { CLEAR_CURRENT_USER, SET_CURRENT_USER } from '../types';\n\n\nconst userReducer = (state = {}, action) => {\n    switch (action?.type) {\n        case SET_CURRENT_USER:\n            localStorage.setItem('currentUser', JSON.stringify(action?.payload));\n            return action?.payload;\n        case CLEAR_CURRENT_USER:\n            localStorage.removeItem('currentUser');\n            return null;\n        default:\n            return JSON.parse(localStorage.getItem('currentUser'));\n    };\n};\n\nexport default userReducer;\n","import { combineReducers, createStore } from 'redux';\nimport userReducer from './reducers/user';\n\n\nconst allReducers = combineReducers({\n    user: userReducer,\n});\n\nconst store = createStore(allReducers);\n\nexport default store;\n","import {createBrowserHistory} from 'history';\nexport const history = createBrowserHistory();\n","import store from '../store';\nimport axios from 'axios';\nimport { clearCurrentUser } from '../store/actions/user';\nimport { history } from '../common/history';\n\n//equal to function authHeader();\nexport const authHeader = () => {\n    const currentUser = store.getState().user;\n\n    return {\n        'Content-Type': 'application/json',\n        'authorization': 'Bearer ' + currentUser?.token,\n    };\n};\n\nexport function handleResponseWithLoginCheck() {\n  axios.interceptors.response.use(\n      response => response,\n      error => {\n          const currentUser = store.getState().user;\n          const isLoggedIn = currentUser?.token;\n          const status = error?.response?.status;\n\n          if (isLoggedIn && [401, 403].includes(status)) {\n              store.dispatch(clearCurrentUser());\n              //router?\n              history.push('/login');\n          }\n\n          return Promise.reject(error);\n      }\n  );\n};\n","import { BASE_API_URL } from '../common/Constants';\nimport axios from 'axios';\nimport { authHeader } from './base.service';\n\n\nconst API_URL = BASE_API_URL + '/gateway/course';\n\nclass CourseService {\n\n    saveCourse(course) {\n        \n        return axios.post(API_URL, course, {headers: authHeader()});\n    }\n\n    deleteCourse(course) {\n        return axios.delete(API_URL + '/' + course.id, {headers: authHeader()});\n    }\n\n    getAllCourses() {\n        return axios.get(API_URL);\n    }\n\n}\n\nexport default new CourseService();\n","import { BASE_API_URL } from '../common/Constants';\nimport axios from 'axios';\nimport { authHeader } from './base.service';\n\n\nconst API_URL = BASE_API_URL + '/gateway/purchase';\n\nclass PurchaseService {\n\n    savePurchase(purchase) {\n        return axios.post(API_URL, purchase, {headers: authHeader()});\n    }\n\n    getAllPurchaseItems() {\n        return axios.get(API_URL, {headers: authHeader()});\n    }\n}\n\nexport default new PurchaseService();\n","export default class Purchase {\n    constructor(userId, courseId, title, price, purchaseTime, id) {\n        this.userId = userId;\n        this.courseId = courseId;\n        this.title = title;\n        this.price = price;\n        this.purchaseTime = purchaseTime;\n        this.id = id;\n    }\n}\n","import { useEffect, useState } from 'react';\nimport CourseService from '../../services/course.service';\nimport PurchaseService from '../../services/purchase.service';\nimport { useSelector } from 'react-redux';\nimport Purchase from '../../models/purchase';\nimport './HomePage.css';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport { faUserGraduate } from '@fortawesome/free-solid-svg-icons';\n\nconst HomePage = () => {\n\n    const [courseList, setCourseList] = useState([]);\n    const [errorMessage, setErrorMessage] = useState('');\n    const [infoMessage, setInfoMessage] = useState('');\n\n    const currentUser = useSelector(state => state.user);\n\n    useEffect(() => {\n        CourseService.getAllCourses().then((response) => {\n            setCourseList(response.data);\n        });\n    }, []);\n\n    \n    \n    const purchase = (course) => {\n        if (!currentUser?.id) {\n            setErrorMessage('You should login to buy a course!');\n            return;\n        }\n\n        const purchase = new Purchase(currentUser.id, course.id, course.title, course.price);\n\n        PurchaseService.savePurchase(purchase).then(() => {\n            setInfoMessage('Mission is completed.');\n        }).catch((err) => {\n            setErrorMessage('Unexpected error occurred.');\n            console.log(err);\n        });\n    };\n\n    return (\n        <div className=\"container p-3\">\n            {errorMessage &&\n            <div className=\"alert alert-danger\">\n                {errorMessage}\n            </div>\n            }\n\n            {infoMessage &&\n            <div className=\"alert alert-success\">\n                {infoMessage}\n            </div>\n            }\n\n            <div className=\"d-flex flex-wrap\">\n                {courseList.map((item, ind) =>\n                    <div key={item.id} className=\"card m-3 home-card\">\n\n                        <div className=\"card-body\">\n                            <div className=\"card-title text-uppercase\">\n                                {item.title}\n                            </div>\n                            <div className=\"card-subtitle text-muted\">\n                                {item.subtitle}\n                            </div>\n                        </div>\n\n                        <FontAwesomeIcon icon={faUserGraduate} className=\"ms-auto me-auto course-icon\"/>\n\n                        <div className=\"row mt-2 p-3\">\n                            <div className=\"col-6 mt-2 ps-4\">\n                                {`$ ${item.price}`}\n                            </div>\n                            <div className=\"col-6\">\n                                <button\n                                    className=\"btn btn-outline-success w-100\"\n                                    onClick={() => purchase(item)}>\n                                    Buy\n                                </button>\n                            </div>\n                        </div>\n\n                    </div>\n                )}\n            </div>\n\n\n        </div>\n    );\n};\n\nexport {HomePage};\n","\nexport default class User {\n    constructor(username, password, fullname, role, token, id) {\n        this.username = username;\n        this.password = password;\n        this.fullname = fullname;\n        this.role = role;\n        this.token = token;\n        this.id = id;\n    }\n}\n","import { BASE_API_URL } from '../common/Constants';\nimport axios from 'axios';\n\n\nconst BASE_URL = BASE_API_URL + '/api/authentication';\n\nclass AuthenticationService {\n\n    login(user) {\n        return axios.post(BASE_URL + '/sign-in', user);\n    }\n\n    register(user) {\n        return axios.post(BASE_URL + '/sign-up', user);\n    }\n\n}\n\nexport default new AuthenticationService();\n","import { useEffect, useState } from 'react';\nimport User from '../../models/user';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useNavigate } from 'react-router-dom';\nimport AuthenticationService from '../../services/authentication.service';\nimport { setCurrentUser } from '../../store/actions/user';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSignInAlt } from '@fortawesome/free-solid-svg-icons';\nimport { faTimesCircle} from '@fortawesome/free-solid-svg-icons';\nimport '../register/RegisterPage.css';\nimport { Alert } from 'react-bootstrap';\nimport { toast} from 'react-toastify'\n\n\nconst LoginPage = () => {\n\n    const [user, setUser] = useState(new User('', '', ''));\n    const [loading, setLoading] = useState(false);\n    const [submitted, setSubmitted] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const currentUser = useSelector(state => state.user);\n\n    const navigate = useNavigate();\n\n    const dispatch = useDispatch();\n\n    //mounted\n    useEffect(() => {\n        if (currentUser?.id) {\n            navigate('/profile');\n        }\n    }, [currentUser?.id,navigate]);\n\n    //<input onChange=(event => handleChange(event))>\n    const handleChange = (e) => {\n        const {name, value} = e.target;\n\n        setUser((prevState => {\n            //E.g: prevState ({user: abc, pass: abc}) + newKeyValue ({user: abcd}) => ({user: abcd, pass: abc})\n            return {\n                ...prevState,\n                [name]: value\n            };\n        }));\n    };\n\n    const handleLogin = (e) => {\n      e.preventDefault();\n\n      setSubmitted(true);\n\n      if (!user.username || !user.password) {\n          return;\n      }\n\n      setLoading(true);\n\n        AuthenticationService.login(user).then(response => {\n            toast.success(\"Login success!\");\n          //set user in session.\n          dispatch(setCurrentUser(response.data));\n          navigate('/profile');\n      }).catch(error => {\n          console.log(error);\n          setErrorMessage('username or password is not valid.');\n          setLoading(false);\n      })\n    };\n\n    return (\n        <div className=\"container mt-3\">\n            <div className=\"card ms-auto me-auto shadow-lg p-2 custom-card\">\n\n                <p className=\"text-center h1 fw-bold mb-3 mx-1 mx-md-4 mt-4\">Sign In</p>\n                <FontAwesomeIcon icon={ faSignInAlt} className=\"ms-auto me-auto user-icon p-3\"/>\n\n                <div>\n                    {errorMessage ?\n                        <Alert className=\"alert alert-danger text-center\"> <FontAwesomeIcon icon={faTimesCircle} /> {errorMessage}\n                        </Alert> : null}\n                </div>\n\n                <form\n                    onSubmit={(e) => handleLogin(e)}\n                    noValidate\n                    className={submitted ? 'was-validated' : ''}\n                >\n                    <div className=\"form-group p-2\">\n                        <label htmlFor=\"username\">Username: </label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            name=\"username\"\n                            placeholder=\"username\"\n                            value={user.username}\n                            onChange={(e) => handleChange(e)}\n                            required\n                        />\n                        <div className=\"invalid-feedback\">\n                            Username is required.\n                        </div>\n                    </div>\n\n                    <div className=\"form-group p-2\">\n                        <label htmlFor=\"password\">Password: </label>\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"password\"\n                            placeholder=\"password\"\n                            value={user.password}\n                            onChange={(e) => handleChange(e)}\n                            required\n                        />\n                        <div className=\"invalid-feedback\">\n                            Password is required.\n                        </div>\n                    </div>\n\n                    <button\n                        className=\"btn btn-info w-100 mt-3\"\n                        disabled={loading}>\n                        Login\n                    </button>\n\n                </form>\n\n                <Link to=\"/register\" className=\"btn btn-link\" style={{color: 'grey'}}>\n                    Create New Account!\n                </Link>\n\n            </div>\n        </div>\n    );\n};\n\nexport {LoginPage};\n","import { useEffect, useState } from 'react';\nimport User from '../../models/user';\nimport { useSelector } from 'react-redux';\nimport { Link, useNavigate } from 'react-router-dom';\nimport AuthenticationService from '../../services/authentication.service';\nimport './RegisterPage.css';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons';\nimport { faExclamationTriangle } from '@fortawesome/free-solid-svg-icons';\nimport { Alert } from 'react-bootstrap';\n\nconst RegisterPage = () => {\n\n    const [user, setUser] = useState(new User('', '', ''));\n    const [loading, setLoading] = useState(false);\n    const [submitted, setSubmitted] = useState(false);\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const currentUser = useSelector(state => state.user);\n\n    const navigate = useNavigate();\n\n    //mounted\n    useEffect(() => {\n        if (currentUser?.id) {\n            navigate('/profile');\n        }\n    }, [currentUser?.id,navigate]);\n\n    //<input onChange=(event => handleChange(event))>\n    const handleChange = (e) => {\n      const {name, value} = e.target;\n\n      setUser((prevState => {\n          //E.g: prevState ({user: abc, pass: abc}) + newKeyValue ({user: abcd}) => ({user: abcd, pass: abc})\n          return {\n              ...prevState,\n              [name]: value\n          };\n      }));\n    }\n\n    const handleRegister = (e) => {\n\n     e.preventDefault();\n\n      setSubmitted(true);\n\n      //validation\n      if (!user.username || !user.password || !user.fullname) {\n          return;\n      }\n\n      setLoading(true);\n\n      AuthenticationService.register(user).then(_ => {\n          navigate('/login');\n      }).catch(error => {\n          console.log(error);\n          if (error?.response?.status === 409) {\n              setErrorMessage('username or password is not valid.');\n          } else {\n              setErrorMessage('Unexpected error occurred!');\n          }\n          setLoading(false);\n      });\n    }; \n\n    return (\n        <div className=\"container mt-3\">\n            <div className=\"card ms-auto me-auto p-2 shadow-lg custom-card\">\n\n                <p className=\"text-center h1 fw-bold mb-3 mx-1 mx-md-4 mt-4\">Sign up</p>\n                <FontAwesomeIcon icon={ faUserCircle} className=\"ms-auto me-auto user-icon p-3\"/>\n                <div>\n                    {errorMessage ?\n                        <Alert className=\"alert alert-danger text-center\"> <FontAwesomeIcon icon={faExclamationTriangle} /> {errorMessage}\n                        </Alert> : null}\n                </div>\n\n\n                <form\n                    onSubmit={(e) => handleRegister(e)}\n                    noValidate\n                    className={submitted ? 'was-validated' : ''}\n                >\n                    <div className=\"form-group p-2\">\n                        <label htmlFor=\"fullname\">Fullname: </label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            name=\"fullname\"\n                            placeholder=\"fullname\"\n                            value={user.fullname}\n                            onChange={(e) => handleChange(e)}\n                            required\n                        />\n                        <div className=\"invalid-feedback\">\n                            Fullname is required.\n                        </div>\n                    </div>\n\n                    <div className=\"form-group p-2\">\n                        <label htmlFor=\"username\">Username: </label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            name=\"username\"\n                            placeholder=\"username\"\n                            value={user.username}\n                            onChange={(e) => handleChange(e)}\n                            required\n                        />\n                        <div className=\"invalid-feedback\">\n                            Username is required.\n                        </div>\n                    </div>\n\n                    <div className=\"form-group p-2\">\n                        <label htmlFor=\"password\">Password: </label>\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"password\"\n                            placeholder=\"password\"\n                            value={user.password}\n                            onChange={(e) => handleChange(e)}\n                            required\n                        />\n                        <div className=\"invalid-feedback\">\n                            Password is required.\n                        </div>\n                    </div>\n\n                    <button\n                        className=\"btn btn-info w-100 mt-3\"\n                        disabled={loading}>\n                        Register\n                    </button>\n\n                </form>\n\n                <Link to=\"/login\" className=\"btn btn-link\" style={{ color: 'darkgray' }}>\n                    I have an Account!\n                </Link>\n\n            </div>\n        </div>\n    );\n};\nexport { RegisterPage };","import { BASE_API_URL } from '../common/Constants';\nimport axios from 'axios';\nimport { authHeader } from './base.service';\n\n\nconst API_URL = BASE_API_URL + '/api/user';\n\nclass UserService {\n\n    changeRole(role) {\n        return axios.put(API_URL + '/change/' + role, {}, {headers: authHeader()});\n    }\n}\n\nexport default new UserService();\n","import { useEffect, useState } from 'react';\nimport PurchaseService from '../../services/purchase.service';\nimport UserService from '../../services/user.service';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Role } from '../../models/role';\nimport { clearCurrentUser } from '../../store/actions/user';\nimport { useNavigate } from 'react-router-dom';\n\n\nconst ProfilePage = () => {\n\n    const [purchaseList, setPurchaseList] = useState([]);\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const currentUser = useSelector(state => state.user);\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        PurchaseService.getAllPurchaseItems().then((response) => {\n            setPurchaseList(response.data);\n        });\n    }, []);\n\n    const changeRole = () => {\n      const newRole = currentUser.role === Role.ADMIN ? Role.USER : Role.ADMIN;\n\n      UserService.changeRole(newRole).then(() => {\n          //clear session\n          dispatch(clearCurrentUser());\n          navigate('/login');\n      }).catch((err) => {\n          setErrorMessage('Unexpected error occurred.');\n          console.log(err);\n      });\n    };\n\n    return (\n        <div className=\"container\">\n            <div className=\"pt-5\">\n\n                {errorMessage &&\n                <div className=\"alert alert-danger\">\n                    {errorMessage}\n                </div>\n                }\n\n                <div className=\"card\">\n                    <div className=\"card-header\">\n\n                        <div className=\"row\">\n                            <div className=\"col-6\">\n                                <h3>All Purchased Items</h3>\n                            </div>\n                            <div className=\"col-6 text-end \">\n                                <p style={{ display: 'inline',padding:'2%' }}> Current role is <strong>{currentUser?.role} </strong></p>\n                                <button className=\"btn btn-primary\" onClick={() => changeRole()}>\n                                    Change Role\n                                </button>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div className=\"card-body\">\n                        <table className=\"table table-striped\">\n\n                            <thead>\n                            <tr>\n                                <th scope=\"col\">#</th>\n                                <th scope=\"col\">Title</th>\n                                <th scope=\"col\">Price</th>\n                                <th scope=\"col\">Date</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n\n                            {purchaseList.map((item, ind) =>\n                                <tr key={item.id}>\n                                    <th scope=\"row\">{ind + 1}</th>\n                                    <td>{item.title}</td>\n                                    <td>{`$ ${item.price}`}</td>\n                                    <td>{new Date(item.purchaseTime).toLocaleDateString()}</td>\n                                </tr>\n                            )}\n\n\n                            </tbody>\n\n                        </table>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    );\n};\n\nexport {ProfilePage};\n","export default class Course {\n    constructor(title, subtitle, price, createTime, id) {\n        this.title = title;\n        this.subtitle = subtitle;\n        this.price = price;\n        this.createTime = createTime;\n        this.id = id;\n    }\n}\n","import { forwardRef, useEffect, useImperativeHandle, useState } from 'react';\nimport Course from '../models/course';\nimport CourseService from '../services/course.service';\nimport { Modal } from 'react-bootstrap';\n\n\nconst CourseSave = forwardRef((props, ref) => {\n\n    useImperativeHandle(ref, () => ({\n        //interaction with parent\n        showCourseModal() {\n            setTimeout(() => {\n                setShow(true);\n            }, 0);\n        }\n    }));\n\n    //send it from parent\n    useEffect(() => {\n        setCourse(props.course);\n    }, [props.course]);\n\n    const [course, setCourse] = useState(new Course('', '', 0));\n    const [errorMessage, setErrorMessage] = useState('');\n    const [submitted, setSubmitted] = useState(false);\n    const [show, setShow] = useState(false);\n\n    const saveCourse = (e) => {\n        e.preventDefault();\n\n        setSubmitted(true);\n\n        if(!course.title || !course.subtitle || !course.price) {\n            return;\n        }\n\n        CourseService.saveCourse(course).then(response => {\n            //...\n            props.onSaved(response.data);\n            setShow(false);\n            setSubmitted(false);\n        }).catch((err) => {\n            setErrorMessage('Unexpected error occurred.');\n            console.log(err);\n        })\n    };\n\n    //<input name=\"\" onChange=(evvent) => handlechange(event)>\n    const handleChange = (e) => {\n        const {name, value} = e.target;\n\n        setCourse((prevState => {\n            return {\n                ...prevState,\n                [name]: value\n            };\n        }));\n    };\n\n    return (\n        <Modal show={show}>\n            <form onSubmit={(e) => saveCourse(e)}\n            noValidate\n            className={submitted ? 'was-validated' : ''}>\n\n                <div className=\"modal-header\">\n                    <h5 className=\"modal-title\">Course Details</h5>\n                    <button type=\"button\" className=\"btn-close\" onClick={() => setShow(false)}></button>\n                </div>\n\n                <div className=\"modal-body\">\n\n                    {errorMessage &&\n                    <div className=\"alert alert-danger\">\n                        {errorMessage}\n                    </div>\n                    }\n\n                    <div className=\"form-group p-2\">\n                        <label htmlFor=\"title\">Title: </label>\n                        <input\n                            type=\"text\"\n                            name=\"title\"\n                            placeholder=\"title\"\n                            className=\"form-control\"\n                            required\n                            value={course.title}\n                            onChange={(e) => handleChange(e)}\n                        />\n                        <div className=\"invalid-feedback\">\n                            Title is required.\n                        </div>\n                    </div>\n\n                    <div className=\"form-group p-2\">\n                        <label htmlFor=\"subtitle\">Subtitle: </label>\n                        <input\n                            type=\"text\"\n                            name=\"subtitle\"\n                            placeholder=\"subtitle\"\n                            className=\"form-control\"\n                            required\n                            value={course.subtitle}\n                            onChange={(e) => handleChange(e)}\n                        />\n                        <div className=\"invalid-feedback\">\n                            Subtitle is required.\n                        </div>\n                    </div>\n\n                    <div className=\"form-group p-2\">\n                        <label htmlFor=\"price\">Price: </label>\n                        <input\n                            type=\"number\"\n                            min=\"1\"\n                            step=\"any\"\n                            name=\"price\"\n                            placeholder=\"price\"\n                            className=\"form-control\"\n                            required\n                            value={course.price}\n                            onChange={(e) => handleChange(e)}\n                        />\n                        <div className=\"invalid-feedback\">\n                            Price is required and should be greater than 0.\n                        </div>\n                    </div>\n\n                </div>\n\n                <div className=\"modal-footer\">\n                    <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setShow(false)}>Close</button>\n                    <button type=\"submit\" className=\"btn btn-primary\">Save Changes</button>\n                </div>\n\n            </form>\n        </Modal>\n    );\n});\n\nexport {CourseSave};\n","import { forwardRef, useImperativeHandle, useState } from 'react';\nimport { Modal } from 'react-bootstrap';\n\n\nconst CourseDelete = forwardRef((props, ref) => {\n\n    const [show, setShow] = useState(false);\n\n    useImperativeHandle(ref, () => ({\n        showDeleteModal() {\n            setShow(true);\n        }\n    }));\n\n    const deleteCourse = () => {\n        props.onConfirmed();\n        setShow(false);\n    };\n\n    return (\n        <Modal show={show}>\n\n            <div className=\"modal-header\">\n                <h5 className=\"modal-title\">Confirmation</h5>\n                <button type=\"button\" className=\"btn-close\" onClick={() => setShow(false)}></button>\n            </div>\n\n            <div className=\"modal-body\">\n                Are you sure to delete the selected course?\n            </div>\n\n            <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setShow(false)}>Cancel</button>\n                <button type=\"button\" className=\"btn btn-danger\" onClick={() => deleteCourse()}>I'm sure!</button>\n            </div>\n\n        </Modal>\n    );\n});\n\nexport {CourseDelete};\n","import { useEffect, useRef, useState } from 'react';\nimport CourseService from '../../services/course.service';\nimport { CourseSave } from '../../components/CourseSave';\nimport Course from '../../models/course';\nimport { CourseDelete } from '../../components/CourseDelete';\n\n\nconst AdminPage = () => {\n\n    const [courseList, setCourseList] = useState([]);\n    const [selectedCourse, setSelectedCourse] = useState(new Course('', '', 0.0));\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const saveComponent = useRef();\n    const deleteComponent = useRef();\n\n    useEffect(() => {\n        CourseService.getAllCourses().then((response) => {\n            setCourseList(response.data);\n        });\n    }, []);\n\n    const createCourseRequest = () => {\n        setSelectedCourse(new Course('', '', 0));\n        saveComponent.current?.showCourseModal();\n    };\n\n    const editCourseRequest = (item) => {\n      setSelectedCourse(Object.assign({}, item));\n        saveComponent.current?.showCourseModal();\n    };\n\n    const deleteCourseRequest = (course) => {\n        setSelectedCourse(course);\n      deleteComponent.current?.showDeleteModal();\n    };\n\n    const saveCourseWatcher = (course) => {\n        let itemIndex = courseList.findIndex(item => item.id === course.id);\n\n        if (itemIndex !== -1) {\n            const newList = courseList.map((item) => {\n                if (item.id === course.id) {\n                    return course;\n                }\n                return item;\n            });\n            setCourseList(newList);\n        } else {\n            const newList = courseList.concat(course);\n            setCourseList(newList);\n            window.location.reload();\n        }\n    };\n\n    const deleteCourse = () => {\n        CourseService.deleteCourse(selectedCourse).then(_ => {\n            setCourseList(courseList.filter(x => x.id !== selectedCourse.id));\n        }).catch((err) => {\n            setErrorMessage('Unexpected error occurred.');\n            console.log(err);\n        });\n    };\n\n    return (\n        <div>\n            <div className=\"container\">\n                <div className=\"pt-5\">\n\n                    {errorMessage &&\n                    <div className=\"alert alert-danger\">\n                        {errorMessage}\n                    </div>\n                    }\n\n                    <div className=\"card\">\n                        <div className=\"card-header\">\n                            <div className=\"row\">\n                                <div className=\"col-6\">\n                                    <h3>All Courses</h3>\n                                </div>\n\n                                <div className=\"col-6 text-end\">\n                                    <button className=\"btn btn-primary\" onClick={() => createCourseRequest()}>\n                                        Create Course\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"card-body\">\n                            <table className=\"table table-striped\">\n\n                                <thead>\n                                <tr>\n                                    <th scope=\"col\">#</th>\n                                    <th scope=\"col\">Title</th>\n                                    <th scope=\"col\">Price</th>\n                                    <th scope=\"col\">Date</th>\n                                    <th scope=\"col\">Action</th>\n                                </tr>\n                                </thead>\n                                <tbody>\n\n                                {courseList.map((item, ind) =>\n                                    <tr key={item.id}>\n                                        <th scope=\"row\">{ind + 1}</th>\n                                        <td>{item.title}</td>\n                                        <td>{`$ ${item.price}`}</td>\n                                        <td>{new Date(item.createTime).toLocaleDateString()}</td>\n                                        <td>\n                                            <button className=\"btn btn-primary me-1\" onClick={() => editCourseRequest(item)}>\n                                                Edit\n                                            </button>\n                                            <button className=\"btn btn-danger\" onClick={() => deleteCourseRequest(item)}>\n                                                Delete\n                                            </button>\n                                        </td>\n                                    </tr>\n                                )}\n\n                                </tbody>\n\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <CourseSave ref={saveComponent} course={selectedCourse} onSaved={(p) => saveCourseWatcher(p)}></CourseSave>\n            <CourseDelete ref={deleteComponent} onConfirmed={() => deleteCourse()}></CourseDelete>\n        </div>\n    );\n};\n\nexport {AdminPage};\n","\n//function NotFoundPage();\nimport { Link } from 'react-router-dom';\n\n\nconst NotFoundPage = () => {\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-12 text-center\">\n                    <span className=\"display-1\">\n                        404\n                    </span>\n                    <div className=\"mb-4 lead\">\n                        Oops! We can't seem to find the page you are looking for.\n                    </div>\n\n                    <Link to=\"/home\" className=\"btn btn-link\">\n                        Back to Home\n                    </Link>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport {NotFoundPage};\n","\n//function UnauthorizedPage();\nimport { Link } from 'react-router-dom';\n\n\nconst UnauthorizedPage = () => {\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-12 text-center\">\n                    <span className=\"display-1\">\n                        401\n                    </span>\n                    <div className=\"mb-4 lead\">\n                        Unauthorized! Access to this resource is denied.\n                    </div>\n\n                    <Link to=\"/home\" className=\"btn btn-link\">\n                        Back to Home\n                    </Link>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport {UnauthorizedPage};\n","import { useSelector } from 'react-redux';\nimport { Navigate } from 'react-router-dom';\n\n\nexport const AuthGuard = ({ children, roles }) => {\n\n    const currentUser = useSelector(state => state.user);\n\n    const authorize = () => {\n        if (!currentUser) {\n            return (<Navigate to={{pathname: '/login'}}/>);\n        }\n\n        if (roles?.indexOf(currentUser.role) === -1) {\n            return (<Navigate to={{pathname: '/401'}}/>);\n        }\n\n        return (children);\n    };\n\n    return (authorize());\n};\n","import './App.css';\nimport { NavBar } from './components/nav-bar';\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\nimport { HomePage } from './pages/home/HomePage';\nimport { LoginPage } from './pages/login/LoginPage';\nimport { RegisterPage } from './pages/register/RegisterPage';\nimport { ProfilePage } from './pages/profile/ProfilePage';\nimport { AdminPage } from './pages/admin/AdminPage';\nimport { NotFoundPage } from './pages/not-found/NotFoundPage';\nimport { UnauthorizedPage } from './pages/unauthorized/UnauthorizedPage';\nimport { AuthGuard } from './guards/AuthGuard';\nimport { Role } from './models/role';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\n\nfunction App() {\n    return (\n        <BrowserRouter>\n            <NavBar />\n            <ToastContainer position=\"bottom-left\" />\n            <div className=\"container\">\n                <Routes>\n                    <Route path=\"/\" element={<HomePage />} />\n                    <Route path=\"/home\" element={<HomePage />} />\n                    <Route path=\"/login\" element={<LoginPage />} />\n                    <Route path=\"/register\" element={<RegisterPage />} />\n\n                    <Route path=\"/profile\"\n                        element={\n                            <AuthGuard roles={[Role.ADMIN, Role.USER]}>\n                                <ProfilePage />\n                            </AuthGuard>\n                        } />\n\n                    <Route path=\"/admin\"\n                        element={<AuthGuard roles={[Role.ADMIN]}>\n                            <AdminPage />\n                        </AuthGuard>} />\n\n                    <Route path=\"/404\" element={<NotFoundPage />} />\n                    <Route path=\"/401\" element={<UnauthorizedPage />} />\n                    <Route path=\"*\" element={<NotFoundPage />} />\n                </Routes>\n            </div>\n        </BrowserRouter>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport { handleResponseWithLoginCheck } from './services/base.service';\n\nhandleResponseWithLoginCheck();\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n          <App />\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}